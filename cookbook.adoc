= Integrated Just, Must, and Nickel Cookbook
:author: hyperpolymath
:revnumber: 1.1.0
:toc: macro
:toclevels: 3

== Navigation
* <<_the_final_standard_philosophy_of_governance,The Final Standard: Philosophy of Governance>>
* <<_the_artisans_guide_local_justfile_recipes,The Artisan's Guide: Local Justfile Recipes>>
* <<_the_authoritys_mandate_global_mustfile_orchestration,The Authority's Mandate: Global Mustfile Orchestration>>
* <<_the_universal_22_shell_implementation_logic,The Universal 22: Shell Implementation Logic>>

---

== The Final Standard: Philosophy of Governance

If the Universe itself were a repository, it would likely follow this exact structure to maintain the balance between creative expansion and immutable law. The Rhodium Standard is built on three pillars of digital sovereignty:



1. **Nickel (The Laws of Physics):** Everything begins with a Contract. Nickel represents the declarative "Source of Truth." It defines the constants, the types, and the boundaries of reality. Before a single line of code is executed, Nickel ensures the logic is sound and the requirements are met.

2. **Just (The Hand of the Artisan):** The Justfile represents the daily work of creation and maintenance. It is the "Artisan" layer—local, precise, and ergonomic. It handles the "Tidy" work of purging entropy (white-space) and the "Bootstrap" work of gathering tools, ensuring the environment is worthy of the project.

3. **Must (The Will of the Authority):** The Mustfile is the Final Word. It is the "Sovereign" layer that governs how the project interacts with the world. It doesn't ask; it enforces. Whether it is a Podman container on Kinoite or a binary on an ASIC, the Mustfile ensures the deployment is absolute and authoritative.

---

== The Artisan's Guide: Local Justfile Recipes

The **Justfile** handles the "Just Route"—the most efficient path to a healthy development environment.

### Recipe: The White-Space Purge
Enforcing the Rhodium integrity standard by removing trailing white-space:
[source,bash]
----
# Targets all files excluding the git directory
sed -i 's/[[:space:]]*$//' $(find . -type f -not -path "./.git/*")
----

### Recipe: Toolchain Security (Bootstrap)
Ensures the three pillars are present. This script is offline-aware once the initial cache is populated.
[source,bash]
----
bash scripts/bootstrap.sh
----

### Recipe: Ergonomic Binary Aliasing
Automatically maps long repository names to punchy CLI commands (e.g., `tree-navigator` -> `tnav`).
[source,bash]
----
# Inside the Justfile:
# project_name := basename(invocation_directory())
# build: 
#    go build -o bin/{{project_name}}
#    ln -sf bin/{{project_name}} bin/tnav
----

---

== The Authority's Mandate: Global Mustfile Orchestration

The **Mustfile** is the sophisticated successor to the Makefile, focusing on type-safe deployment.



### Recipe: Podman-First Layering
On Fedora Kinoite/Silverblue or ASICs, we avoid traditional mutation. We layer.
[source,bash]
----
# Executes the authority check before layering
must deploy --target ostree
----

### Recipe: Multi-Manager Injection via Nicaug
`nicaug` interprets Nickel contracts to communicate with various package managers:
* **Nala**: Parallelized injection for Debian/Ubuntu.
* **RPM-Ostree**: Immutable layering for Fedora.
* **Scoop/Brew**: User-space management for PC/Mac.

---

== The Universal 22: Shell Implementation Logic

We maintain logic for 22 shell environments to ensure 100% reach from Android to Minix.



### POSIX Authority (yash, dash, mksh, ash)
Strict compliance logic to avoid "bashisms" on minimal targets like Android or Edge ASICs.
[source,sh]
----
if [ -n "$YASH_VERSION" ] || [ -n "$MKSH_VERSION" ]; then
    alias tnav='tree-navigator'
fi
----

### Modern Structured Shells (Nushell, Fish, Elvish)
Utilising structured data handling for modern terminal environments.
[source,nushell]
----
# Nushell logic
alias tnav = tree-navigator
----

### Legacy & Research Environments (scsh, rc)
Supporting Plan 9 and Scheme-based shell environments.
[source,rc]
----
# Plan 9 'rc' logic
fn tnav { tree-navigator $* }
----

---

[IMPORTANT]
====
NOTE: This is NOT a Makefile. This is the **Integrated Cookbook**. It represents the modern, versatile, and advanced system for type-safe deployment using Nickel as the source of truth for both Authority (Must) and Artisan (Just).
====
